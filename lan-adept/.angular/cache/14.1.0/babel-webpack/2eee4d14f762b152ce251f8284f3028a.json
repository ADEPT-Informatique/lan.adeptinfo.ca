{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Felix/Desktop/lan.adeptinfo.ca/lan-adept/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ap as _isIOS7Or8, aq as debugAssert, ar as _isIOS, as as _isAndroid, at as _fail, au as _getRedirectUrl, av as _getProjectConfig, aw as _createError, ax as _assert, ay as _getInstance, b as browserLocalPersistence, az as _persistenceKeyName, aA as AuthEventManager, a as browserSessionPersistence, aB as _getRedirectResult, aC as _overrideRedirectResult, aD as _clearRedirectOutcomes, aE as _castAuth } from './index-90ebcfae.js';\nexport { A as ActionCodeOperation, ad as ActionCodeURL, H as AuthCredential, D as AuthErrorCodes, aG as AuthImpl, aJ as AuthPopup, I as EmailAuthCredential, M as EmailAuthProvider, N as FacebookAuthProvider, F as FactorId, aK as FetchProvider, T as GithubAuthProvider, Q as GoogleAuthProvider, J as OAuthCredential, U as OAuthProvider, O as OperationType, K as PhoneAuthCredential, P as PhoneAuthProvider, m as PhoneMultiFactorGenerator, o as ProviderId, R as RecaptchaVerifier, aL as SAMLAuthCredential, V as SAMLAuthProvider, S as SignInMethod, W as TwitterAuthProvider, aF as UserImpl, ax as _assert, aE as _castAuth, at as _fail, aI as _generateEventId, aH as _getClientVersion, ay as _getInstance, aB as _getRedirectResult, aC as _overrideRedirectResult, az as _persistenceKeyName, a2 as applyActionCode, t as beforeAuthStateChanged, b as browserLocalPersistence, k as browserPopupRedirectResolver, a as browserSessionPersistence, a3 as checkActionCode, a1 as confirmPasswordReset, G as connectAuthEmulator, a5 as createUserWithEmailAndPassword, B as debugErrorMap, z as deleteUser, aa as fetchSignInMethodsForEmail, al as getAdditionalUserInfo, n as getAuth, ai as getIdToken, aj as getIdTokenResult, an as getMultiFactorResolver, j as getRedirectResult, L as inMemoryPersistence, i as indexedDBLocalPersistence, E as initializeAuth, a8 as isSignInWithEmailLink, Z as linkWithCredential, l as linkWithPhoneNumber, d as linkWithPopup, g as linkWithRedirect, ao as multiFactor, v as onAuthStateChanged, q as onIdTokenChanged, ae as parseActionCodeURL, C as prodErrorMap, _ as reauthenticateWithCredential, r as reauthenticateWithPhoneNumber, e as reauthenticateWithPopup, h as reauthenticateWithRedirect, am as reload, ab as sendEmailVerification, a0 as sendPasswordResetEmail, a7 as sendSignInLinkToEmail, p as setPersistence, X as signInAnonymously, Y as signInWithCredential, $ as signInWithCustomToken, a6 as signInWithEmailAndPassword, a9 as signInWithEmailLink, s as signInWithPhoneNumber, c as signInWithPopup, f as signInWithRedirect, y as signOut, ak as unlink, x as updateCurrentUser, ag as updateEmail, ah as updatePassword, u as updatePhoneNumber, af as updateProfile, w as useDeviceLanguage, ac as verifyBeforeUpdateEmail, a4 as verifyPasswordResetCode } from './index-90ebcfae.js';\nimport { querystringDecode } from '@firebase/util';\nimport '@firebase/app';\nimport 'tslib';\nimport '@firebase/logger';\nimport '@firebase/component';\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nfunction _cordovaWindow() {\n  return window;\n}\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * How long to wait after the app comes back into focus before concluding that\r\n * the user closed the sign in tab.\r\n */\n\n\nconst REDIRECT_TIMEOUT_MS = 2000;\n/**\r\n * Generates the URL for the OAuth handler.\r\n */\n\nfunction _generateHandlerUrl(_x, _x2, _x3) {\n  return _generateHandlerUrl2.apply(this, arguments);\n}\n/**\r\n * Validates that this app is valid for this project configuration\r\n */\n\n\nfunction _generateHandlerUrl2() {\n  _generateHandlerUrl2 = _asyncToGenerator(function* (auth, event, provider) {\n    var _a; // Get the cordova plugins\n\n\n    const {\n      BuildInfo\n    } = _cordovaWindow();\n\n    debugAssert(event.sessionId, 'AuthEvent did not contain a session ID');\n    const sessionDigest = yield computeSha256(event.sessionId);\n    const additionalParams = {};\n\n    if (_isIOS()) {\n      // iOS app identifier\n      additionalParams['ibi'] = BuildInfo.packageName;\n    } else if (_isAndroid()) {\n      // Android app identifier\n      additionalParams['apn'] = BuildInfo.packageName;\n    } else {\n      _fail(auth, \"operation-not-supported-in-this-environment\"\n      /* OPERATION_NOT_SUPPORTED */\n      );\n    } // Add the display name if available\n\n\n    if (BuildInfo.displayName) {\n      additionalParams['appDisplayName'] = BuildInfo.displayName;\n    } // Attached the hashed session ID\n\n\n    additionalParams['sessionId'] = sessionDigest;\n    return _getRedirectUrl(auth, provider, event.type, undefined, (_a = event.eventId) !== null && _a !== void 0 ? _a : undefined, additionalParams);\n  });\n  return _generateHandlerUrl2.apply(this, arguments);\n}\n\nfunction _validateOrigin(_x4) {\n  return _validateOrigin2.apply(this, arguments);\n}\n\nfunction _validateOrigin2() {\n  _validateOrigin2 = _asyncToGenerator(function* (auth) {\n    const {\n      BuildInfo\n    } = _cordovaWindow();\n\n    const request = {};\n\n    if (_isIOS()) {\n      request.iosBundleId = BuildInfo.packageName;\n    } else if (_isAndroid()) {\n      request.androidPackageName = BuildInfo.packageName;\n    } else {\n      _fail(auth, \"operation-not-supported-in-this-environment\"\n      /* OPERATION_NOT_SUPPORTED */\n      );\n    } // Will fail automatically if package name is not authorized\n\n\n    yield _getProjectConfig(auth, request);\n  });\n  return _validateOrigin2.apply(this, arguments);\n}\n\nfunction _performRedirect(handlerUrl) {\n  // Get the cordova plugins\n  const {\n    cordova\n  } = _cordovaWindow();\n\n  return new Promise(resolve => {\n    cordova.plugins.browsertab.isAvailable(browserTabIsAvailable => {\n      let iabRef = null;\n\n      if (browserTabIsAvailable) {\n        cordova.plugins.browsertab.openUrl(handlerUrl);\n      } else {\n        // TODO: Return the inappbrowser ref that's returned from the open call\n        iabRef = cordova.InAppBrowser.open(handlerUrl, _isIOS7Or8() ? '_blank' : '_system', 'location=yes');\n      }\n\n      resolve(iabRef);\n    });\n  });\n}\n/**\r\n * This function waits for app activity to be seen before resolving. It does\r\n * this by attaching listeners to various dom events. Once the app is determined\r\n * to be visible, this promise resolves. AFTER that resolution, the listeners\r\n * are detached and any browser tabs left open will be closed.\r\n */\n\n\nfunction _waitForAppResume(_x5, _x6, _x7) {\n  return _waitForAppResume2.apply(this, arguments);\n}\n/**\r\n * Checks the configuration of the Cordova environment. This has no side effect\r\n * if the configuration is correct; otherwise it throws an error with the\r\n * missing plugin.\r\n */\n\n\nfunction _waitForAppResume2() {\n  _waitForAppResume2 = _asyncToGenerator(function* (auth, eventListener, iabRef) {\n    // Get the cordova plugins\n    const {\n      cordova\n    } = _cordovaWindow();\n\n    let cleanup = () => {};\n\n    try {\n      yield new Promise((resolve, reject) => {\n        let onCloseTimer = null; // DEFINE ALL THE CALLBACKS =====\n\n        function authEventSeen() {\n          var _a; // Auth event was detected. Resolve this promise and close the extra\n          // window if it's still open.\n\n\n          resolve();\n          const closeBrowserTab = (_a = cordova.plugins.browsertab) === null || _a === void 0 ? void 0 : _a.close;\n\n          if (typeof closeBrowserTab === 'function') {\n            closeBrowserTab();\n          } // Close inappbrowser emebedded webview in iOS7 and 8 case if still\n          // open.\n\n\n          if (typeof (iabRef === null || iabRef === void 0 ? void 0 : iabRef.close) === 'function') {\n            iabRef.close();\n          }\n        }\n\n        function resumed() {\n          if (onCloseTimer) {\n            // This code already ran; do not rerun.\n            return;\n          }\n\n          onCloseTimer = window.setTimeout(() => {\n            // Wait two seeconds after resume then reject.\n            reject(_createError(auth, \"redirect-cancelled-by-user\"\n            /* REDIRECT_CANCELLED_BY_USER */\n            ));\n          }, REDIRECT_TIMEOUT_MS);\n        }\n\n        function visibilityChanged() {\n          if ((document === null || document === void 0 ? void 0 : document.visibilityState) === 'visible') {\n            resumed();\n          }\n        } // ATTACH ALL THE LISTENERS =====\n        // Listen for the auth event\n\n\n        eventListener.addPassiveListener(authEventSeen); // Listen for resume and visibility events\n\n        document.addEventListener('resume', resumed, false);\n\n        if (_isAndroid()) {\n          document.addEventListener('visibilitychange', visibilityChanged, false);\n        } // SETUP THE CLEANUP FUNCTION =====\n\n\n        cleanup = () => {\n          eventListener.removePassiveListener(authEventSeen);\n          document.removeEventListener('resume', resumed, false);\n          document.removeEventListener('visibilitychange', visibilityChanged, false);\n\n          if (onCloseTimer) {\n            window.clearTimeout(onCloseTimer);\n          }\n        };\n      });\n    } finally {\n      cleanup();\n    }\n  });\n  return _waitForAppResume2.apply(this, arguments);\n}\n\nfunction _checkCordovaConfiguration(auth) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n\n  const win = _cordovaWindow(); // Check all dependencies installed.\n  // https://github.com/nordnet/cordova-universal-links-plugin\n  // Note that cordova-universal-links-plugin has been abandoned.\n  // A fork with latest fixes is available at:\n  // https://www.npmjs.com/package/cordova-universal-links-plugin-fix\n\n\n  _assert(typeof ((_a = win === null || win === void 0 ? void 0 : win.universalLinks) === null || _a === void 0 ? void 0 : _a.subscribe) === 'function', auth, \"invalid-cordova-configuration\"\n  /* INVALID_CORDOVA_CONFIGURATION */\n  , {\n    missingPlugin: 'cordova-universal-links-plugin-fix'\n  }); // https://www.npmjs.com/package/cordova-plugin-buildinfo\n\n\n  _assert(typeof ((_b = win === null || win === void 0 ? void 0 : win.BuildInfo) === null || _b === void 0 ? void 0 : _b.packageName) !== 'undefined', auth, \"invalid-cordova-configuration\"\n  /* INVALID_CORDOVA_CONFIGURATION */\n  , {\n    missingPlugin: 'cordova-plugin-buildInfo'\n  }); // https://github.com/google/cordova-plugin-browsertab\n\n\n  _assert(typeof ((_e = (_d = (_c = win === null || win === void 0 ? void 0 : win.cordova) === null || _c === void 0 ? void 0 : _c.plugins) === null || _d === void 0 ? void 0 : _d.browsertab) === null || _e === void 0 ? void 0 : _e.openUrl) === 'function', auth, \"invalid-cordova-configuration\"\n  /* INVALID_CORDOVA_CONFIGURATION */\n  , {\n    missingPlugin: 'cordova-plugin-browsertab'\n  });\n\n  _assert(typeof ((_h = (_g = (_f = win === null || win === void 0 ? void 0 : win.cordova) === null || _f === void 0 ? void 0 : _f.plugins) === null || _g === void 0 ? void 0 : _g.browsertab) === null || _h === void 0 ? void 0 : _h.isAvailable) === 'function', auth, \"invalid-cordova-configuration\"\n  /* INVALID_CORDOVA_CONFIGURATION */\n  , {\n    missingPlugin: 'cordova-plugin-browsertab'\n  }); // https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-inappbrowser/\n\n\n  _assert(typeof ((_k = (_j = win === null || win === void 0 ? void 0 : win.cordova) === null || _j === void 0 ? void 0 : _j.InAppBrowser) === null || _k === void 0 ? void 0 : _k.open) === 'function', auth, \"invalid-cordova-configuration\"\n  /* INVALID_CORDOVA_CONFIGURATION */\n  , {\n    missingPlugin: 'cordova-plugin-inappbrowser'\n  });\n}\n/**\r\n * Computes the SHA-256 of a session ID. The SubtleCrypto interface is only\r\n * available in \"secure\" contexts, which covers Cordova (which is served on a file\r\n * protocol).\r\n */\n\n\nfunction computeSha256(_x8) {\n  return _computeSha.apply(this, arguments);\n}\n\nfunction _computeSha() {\n  _computeSha = _asyncToGenerator(function* (sessionId) {\n    const bytes = stringToArrayBuffer(sessionId); // TODO: For IE11 crypto has a different name and this operation comes back\n    //       as an object, not a promise. This is the old proposed standard that\n    //       is used by IE11:\n    // https://www.w3.org/TR/2013/WD-WebCryptoAPI-20130108/#cryptooperation-interface\n\n    const buf = yield crypto.subtle.digest('SHA-256', bytes);\n    const arr = Array.from(new Uint8Array(buf));\n    return arr.map(num => num.toString(16).padStart(2, '0')).join('');\n  });\n  return _computeSha.apply(this, arguments);\n}\n\nfunction stringToArrayBuffer(str) {\n  // This function is only meant to deal with an ASCII charset and makes\n  // certain simplifying assumptions.\n  debugAssert(/[0-9a-zA-Z]+/.test(str), 'Can only convert alpha-numeric strings');\n\n  if (typeof TextEncoder !== 'undefined') {\n    return new TextEncoder().encode(str);\n  }\n\n  const buff = new ArrayBuffer(str.length);\n  const view = new Uint8Array(buff);\n\n  for (let i = 0; i < str.length; i++) {\n    view[i] = str.charCodeAt(i);\n  }\n\n  return view;\n}\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nconst SESSION_ID_LENGTH = 20;\n/** Custom AuthEventManager that adds passive listeners to events */\n\nclass CordovaAuthEventManager extends AuthEventManager {\n  constructor() {\n    super(...arguments);\n    this.passiveListeners = new Set();\n    this.initPromise = new Promise(resolve => {\n      this.resolveInialized = resolve;\n    });\n  }\n\n  addPassiveListener(cb) {\n    this.passiveListeners.add(cb);\n  }\n\n  removePassiveListener(cb) {\n    this.passiveListeners.delete(cb);\n  } // In a Cordova environment, this manager can live through multiple redirect\n  // operations\n\n\n  resetRedirect() {\n    this.queuedRedirectEvent = null;\n    this.hasHandledPotentialRedirect = false;\n  }\n  /** Override the onEvent method */\n\n\n  onEvent(event) {\n    this.resolveInialized();\n    this.passiveListeners.forEach(cb => cb(event));\n    return super.onEvent(event);\n  }\n\n  initialized() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.initPromise;\n    })();\n  }\n\n}\n/**\r\n * Generates a (partial) {@link AuthEvent}.\r\n */\n\n\nfunction _generateNewEvent(auth, type, eventId = null) {\n  return {\n    type,\n    eventId,\n    urlResponse: null,\n    sessionId: generateSessionId(),\n    postBody: null,\n    tenantId: auth.tenantId,\n    error: _createError(auth, \"no-auth-event\"\n    /* NO_AUTH_EVENT */\n    )\n  };\n}\n\nfunction _savePartialEvent(auth, event) {\n  return storage()._set(persistenceKey(auth), event);\n}\n\nfunction _getAndRemoveEvent(_x9) {\n  return _getAndRemoveEvent2.apply(this, arguments);\n}\n\nfunction _getAndRemoveEvent2() {\n  _getAndRemoveEvent2 = _asyncToGenerator(function* (auth) {\n    const event = yield storage()._get(persistenceKey(auth));\n\n    if (event) {\n      yield storage()._remove(persistenceKey(auth));\n    }\n\n    return event;\n  });\n  return _getAndRemoveEvent2.apply(this, arguments);\n}\n\nfunction _eventFromPartialAndUrl(partialEvent, url) {\n  var _a, _b; // Parse the deep link within the dynamic link URL.\n\n\n  const callbackUrl = _getDeepLinkFromCallback(url); // Confirm it is actually a callback URL.\n  // Currently the universal link will be of this format:\n  // https://<AUTH_DOMAIN>/__/auth/callback<OAUTH_RESPONSE>\n  // This is a fake URL but is not intended to take the user anywhere\n  // and just redirect to the app.\n\n\n  if (callbackUrl.includes('/__/auth/callback')) {\n    // Check if there is an error in the URL.\n    // This mechanism is also used to pass errors back to the app:\n    // https://<AUTH_DOMAIN>/__/auth/callback?firebaseError=<STRINGIFIED_ERROR>\n    const params = searchParamsOrEmpty(callbackUrl); // Get the error object corresponding to the stringified error if found.\n\n    const errorObject = params['firebaseError'] ? parseJsonOrNull(decodeURIComponent(params['firebaseError'])) : null;\n    const code = (_b = (_a = errorObject === null || errorObject === void 0 ? void 0 : errorObject['code']) === null || _a === void 0 ? void 0 : _a.split('auth/')) === null || _b === void 0 ? void 0 : _b[1];\n    const error = code ? _createError(code) : null;\n\n    if (error) {\n      return {\n        type: partialEvent.type,\n        eventId: partialEvent.eventId,\n        tenantId: partialEvent.tenantId,\n        error,\n        urlResponse: null,\n        sessionId: null,\n        postBody: null\n      };\n    } else {\n      return {\n        type: partialEvent.type,\n        eventId: partialEvent.eventId,\n        tenantId: partialEvent.tenantId,\n        sessionId: partialEvent.sessionId,\n        urlResponse: callbackUrl,\n        postBody: null\n      };\n    }\n  }\n\n  return null;\n}\n\nfunction generateSessionId() {\n  const chars = [];\n  const allowedChars = '1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\n  for (let i = 0; i < SESSION_ID_LENGTH; i++) {\n    const idx = Math.floor(Math.random() * allowedChars.length);\n    chars.push(allowedChars.charAt(idx));\n  }\n\n  return chars.join('');\n}\n\nfunction storage() {\n  return _getInstance(browserLocalPersistence);\n}\n\nfunction persistenceKey(auth) {\n  return _persistenceKeyName(\"authEvent\"\n  /* AUTH_EVENT */\n  , auth.config.apiKey, auth.name);\n}\n\nfunction parseJsonOrNull(json) {\n  try {\n    return JSON.parse(json);\n  } catch (e) {\n    return null;\n  }\n} // Exported for testing\n\n\nfunction _getDeepLinkFromCallback(url) {\n  const params = searchParamsOrEmpty(url);\n  const link = params['link'] ? decodeURIComponent(params['link']) : undefined; // Double link case (automatic redirect)\n\n  const doubleDeepLink = searchParamsOrEmpty(link)['link']; // iOS custom scheme links.\n\n  const iOSDeepLink = params['deep_link_id'] ? decodeURIComponent(params['deep_link_id']) : undefined;\n  const iOSDoubleDeepLink = searchParamsOrEmpty(iOSDeepLink)['link'];\n  return iOSDoubleDeepLink || iOSDeepLink || doubleDeepLink || link || url;\n}\n/**\r\n * Optimistically tries to get search params from a string, or else returns an\r\n * empty search params object.\r\n */\n\n\nfunction searchParamsOrEmpty(url) {\n  if (!(url === null || url === void 0 ? void 0 : url.includes('?'))) {\n    return {};\n  }\n\n  const [_, ...rest] = url.split('?');\n  return querystringDecode(rest.join('?'));\n}\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * How long to wait for the initial auth event before concluding no\r\n * redirect pending\r\n */\n\n\nconst INITIAL_EVENT_TIMEOUT_MS = 500;\n\nclass CordovaPopupRedirectResolver {\n  constructor() {\n    this._redirectPersistence = browserSessionPersistence;\n    this._shouldInitProactively = true; // This is lightweight for Cordova\n\n    this.eventManagers = new Map();\n    this.originValidationPromises = {};\n    this._completeRedirectFn = _getRedirectResult;\n    this._overrideRedirectResult = _overrideRedirectResult;\n  }\n\n  _initialize(auth) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const key = auth._key();\n\n      let manager = _this2.eventManagers.get(key);\n\n      if (!manager) {\n        manager = new CordovaAuthEventManager(auth);\n\n        _this2.eventManagers.set(key, manager);\n\n        _this2.attachCallbackListeners(auth, manager);\n      }\n\n      return manager;\n    })();\n  }\n\n  _openPopup(auth) {\n    _fail(auth, \"operation-not-supported-in-this-environment\"\n    /* OPERATION_NOT_SUPPORTED */\n    );\n  }\n\n  _openRedirect(auth, provider, authType, eventId) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      _checkCordovaConfiguration(auth);\n\n      const manager = yield _this3._initialize(auth);\n      yield manager.initialized(); // Reset the persisted redirect states. This does not matter on Web where\n      // the redirect always blows away application state entirely. On Cordova,\n      // the app maintains control flow through the redirect.\n\n      manager.resetRedirect();\n\n      _clearRedirectOutcomes();\n\n      yield _this3._originValidation(auth);\n\n      const event = _generateNewEvent(auth, authType, eventId);\n\n      yield _savePartialEvent(auth, event);\n      const url = yield _generateHandlerUrl(auth, event, provider);\n      const iabRef = yield _performRedirect(url);\n      return _waitForAppResume(auth, manager, iabRef);\n    })();\n  }\n\n  _isIframeWebStorageSupported(_auth, _cb) {\n    throw new Error('Method not implemented.');\n  }\n\n  _originValidation(auth) {\n    const key = auth._key();\n\n    if (!this.originValidationPromises[key]) {\n      this.originValidationPromises[key] = _validateOrigin(auth);\n    }\n\n    return this.originValidationPromises[key];\n  }\n\n  attachCallbackListeners(auth, manager) {\n    // Get the global plugins\n    const {\n      universalLinks,\n      handleOpenURL,\n      BuildInfo\n    } = _cordovaWindow();\n\n    const noEventTimeout = setTimeout( /*#__PURE__*/_asyncToGenerator(function* () {\n      // We didn't see that initial event. Clear any pending object and\n      // dispatch no event\n      yield _getAndRemoveEvent(auth);\n      manager.onEvent(generateNoEvent());\n    }), INITIAL_EVENT_TIMEOUT_MS);\n\n    const universalLinksCb = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (eventData) {\n        // We have an event so we can clear the no event timeout\n        clearTimeout(noEventTimeout);\n        const partialEvent = yield _getAndRemoveEvent(auth);\n        let finalEvent = null;\n\n        if (partialEvent && (eventData === null || eventData === void 0 ? void 0 : eventData['url'])) {\n          finalEvent = _eventFromPartialAndUrl(partialEvent, eventData['url']);\n        } // If finalEvent is never filled, trigger with no event\n\n\n        manager.onEvent(finalEvent || generateNoEvent());\n      });\n\n      return function universalLinksCb(_x10) {\n        return _ref2.apply(this, arguments);\n      };\n    }(); // Universal links subscriber doesn't exist for iOS, so we need to check\n\n\n    if (typeof universalLinks !== 'undefined' && typeof universalLinks.subscribe === 'function') {\n      universalLinks.subscribe(null, universalLinksCb);\n    } // iOS 7 or 8 custom URL schemes.\n    // This is also the current default behavior for iOS 9+.\n    // For this to work, cordova-plugin-customurlscheme needs to be installed.\n    // https://github.com/EddyVerbruggen/Custom-URL-scheme\n    // Do not overwrite the existing developer's URL handler.\n\n\n    const existingHandleOpenURL = handleOpenURL;\n    const packagePrefix = `${BuildInfo.packageName.toLowerCase()}://`;\n\n    _cordovaWindow().handleOpenURL = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator(function* (url) {\n        if (url.toLowerCase().startsWith(packagePrefix)) {\n          // We want this intentionally to float\n          // eslint-disable-next-line @typescript-eslint/no-floating-promises\n          universalLinksCb({\n            url\n          });\n        } // Call the developer's handler if it is present.\n\n\n        if (typeof existingHandleOpenURL === 'function') {\n          try {\n            existingHandleOpenURL(url);\n          } catch (e) {\n            // This is a developer error. Don't stop the flow of the SDK.\n            console.error(e);\n          }\n        }\n      });\n\n      return function (_x11) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n  }\n\n}\n/**\r\n * An implementation of {@link PopupRedirectResolver} suitable for Cordova\r\n * based applications.\r\n *\r\n * @public\r\n */\n\n\nconst cordovaPopupRedirectResolver = CordovaPopupRedirectResolver;\n\nfunction generateNoEvent() {\n  return {\n    type: \"unknown\"\n    /* UNKNOWN */\n    ,\n    eventId: null,\n    sessionId: null,\n    urlResponse: null,\n    postBody: null,\n    tenantId: null,\n    error: _createError(\"no-auth-event\"\n    /* NO_AUTH_EVENT */\n    )\n  };\n}\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n// This function should only be called by frameworks (e.g. FirebaseUI-web) to log their usage.\n// It is not intended for direct use by developer apps. NO jsdoc here to intentionally leave it out\n// of autogenerated documentation pages to reduce accidental misuse.\n\n\nfunction addFrameworkForLogging(auth, framework) {\n  _castAuth(auth)._logFramework(framework);\n}\n\nexport { addFrameworkForLogging, cordovaPopupRedirectResolver };","map":{"version":3,"names":["ap","_isIOS7Or8","aq","debugAssert","ar","_isIOS","as","_isAndroid","at","_fail","au","_getRedirectUrl","av","_getProjectConfig","aw","_createError","ax","_assert","ay","_getInstance","b","browserLocalPersistence","az","_persistenceKeyName","aA","AuthEventManager","a","browserSessionPersistence","aB","_getRedirectResult","aC","_overrideRedirectResult","aD","_clearRedirectOutcomes","aE","_castAuth","A","ActionCodeOperation","ad","ActionCodeURL","H","AuthCredential","D","AuthErrorCodes","aG","AuthImpl","aJ","AuthPopup","I","EmailAuthCredential","M","EmailAuthProvider","N","FacebookAuthProvider","F","FactorId","aK","FetchProvider","T","GithubAuthProvider","Q","GoogleAuthProvider","J","OAuthCredential","U","OAuthProvider","O","OperationType","K","PhoneAuthCredential","P","PhoneAuthProvider","m","PhoneMultiFactorGenerator","o","ProviderId","R","RecaptchaVerifier","aL","SAMLAuthCredential","V","SAMLAuthProvider","S","SignInMethod","W","TwitterAuthProvider","aF","UserImpl","aI","_generateEventId","aH","_getClientVersion","a2","applyActionCode","t","beforeAuthStateChanged","k","browserPopupRedirectResolver","a3","checkActionCode","a1","confirmPasswordReset","G","connectAuthEmulator","a5","createUserWithEmailAndPassword","B","debugErrorMap","z","deleteUser","aa","fetchSignInMethodsForEmail","al","getAdditionalUserInfo","n","getAuth","ai","getIdToken","aj","getIdTokenResult","an","getMultiFactorResolver","j","getRedirectResult","L","inMemoryPersistence","i","indexedDBLocalPersistence","E","initializeAuth","a8","isSignInWithEmailLink","Z","linkWithCredential","l","linkWithPhoneNumber","d","linkWithPopup","g","linkWithRedirect","ao","multiFactor","v","onAuthStateChanged","q","onIdTokenChanged","ae","parseActionCodeURL","C","prodErrorMap","_","reauthenticateWithCredential","r","reauthenticateWithPhoneNumber","e","reauthenticateWithPopup","h","reauthenticateWithRedirect","am","reload","ab","sendEmailVerification","a0","sendPasswordResetEmail","a7","sendSignInLinkToEmail","p","setPersistence","X","signInAnonymously","Y","signInWithCredential","$","signInWithCustomToken","a6","signInWithEmailAndPassword","a9","signInWithEmailLink","s","signInWithPhoneNumber","c","signInWithPopup","f","signInWithRedirect","y","signOut","ak","unlink","x","updateCurrentUser","ag","updateEmail","ah","updatePassword","u","updatePhoneNumber","af","updateProfile","w","useDeviceLanguage","ac","verifyBeforeUpdateEmail","a4","verifyPasswordResetCode","querystringDecode","_cordovaWindow","window","REDIRECT_TIMEOUT_MS","_generateHandlerUrl","auth","event","provider","_a","BuildInfo","sessionId","sessionDigest","computeSha256","additionalParams","packageName","displayName","type","undefined","eventId","_validateOrigin","request","iosBundleId","androidPackageName","_performRedirect","handlerUrl","cordova","Promise","resolve","plugins","browsertab","isAvailable","browserTabIsAvailable","iabRef","openUrl","InAppBrowser","open","_waitForAppResume","eventListener","cleanup","reject","onCloseTimer","authEventSeen","closeBrowserTab","close","resumed","setTimeout","visibilityChanged","document","visibilityState","addPassiveListener","addEventListener","removePassiveListener","removeEventListener","clearTimeout","_checkCordovaConfiguration","_b","_c","_d","_e","_f","_g","_h","_j","_k","win","universalLinks","subscribe","missingPlugin","bytes","stringToArrayBuffer","buf","crypto","subtle","digest","arr","Array","from","Uint8Array","map","num","toString","padStart","join","str","test","TextEncoder","encode","buff","ArrayBuffer","length","view","charCodeAt","SESSION_ID_LENGTH","CordovaAuthEventManager","constructor","arguments","passiveListeners","Set","initPromise","resolveInialized","cb","add","delete","resetRedirect","queuedRedirectEvent","hasHandledPotentialRedirect","onEvent","forEach","initialized","_generateNewEvent","urlResponse","generateSessionId","postBody","tenantId","error","_savePartialEvent","storage","_set","persistenceKey","_getAndRemoveEvent","_get","_remove","_eventFromPartialAndUrl","partialEvent","url","callbackUrl","_getDeepLinkFromCallback","includes","params","searchParamsOrEmpty","errorObject","parseJsonOrNull","decodeURIComponent","code","split","chars","allowedChars","idx","Math","floor","random","push","charAt","config","apiKey","name","json","JSON","parse","link","doubleDeepLink","iOSDeepLink","iOSDoubleDeepLink","rest","INITIAL_EVENT_TIMEOUT_MS","CordovaPopupRedirectResolver","_redirectPersistence","_shouldInitProactively","eventManagers","Map","originValidationPromises","_completeRedirectFn","_initialize","key","_key","manager","get","set","attachCallbackListeners","_openPopup","_openRedirect","authType","_originValidation","_isIframeWebStorageSupported","_auth","_cb","Error","handleOpenURL","noEventTimeout","generateNoEvent","universalLinksCb","eventData","finalEvent","existingHandleOpenURL","packagePrefix","toLowerCase","startsWith","console","cordovaPopupRedirectResolver","addFrameworkForLogging","framework","_logFramework"],"sources":["C:/Users/Felix/Desktop/lan.adeptinfo.ca/lan-adept/node_modules/@firebase/auth/dist/esm2017/internal.js"],"sourcesContent":["import { ap as _isIOS7Or8, aq as debugAssert, ar as _isIOS, as as _isAndroid, at as _fail, au as _getRedirectUrl, av as _getProjectConfig, aw as _createError, ax as _assert, ay as _getInstance, b as browserLocalPersistence, az as _persistenceKeyName, aA as AuthEventManager, a as browserSessionPersistence, aB as _getRedirectResult, aC as _overrideRedirectResult, aD as _clearRedirectOutcomes, aE as _castAuth } from './index-90ebcfae.js';\nexport { A as ActionCodeOperation, ad as ActionCodeURL, H as AuthCredential, D as AuthErrorCodes, aG as AuthImpl, aJ as AuthPopup, I as EmailAuthCredential, M as EmailAuthProvider, N as FacebookAuthProvider, F as FactorId, aK as FetchProvider, T as GithubAuthProvider, Q as GoogleAuthProvider, J as OAuthCredential, U as OAuthProvider, O as OperationType, K as PhoneAuthCredential, P as PhoneAuthProvider, m as PhoneMultiFactorGenerator, o as ProviderId, R as RecaptchaVerifier, aL as SAMLAuthCredential, V as SAMLAuthProvider, S as SignInMethod, W as TwitterAuthProvider, aF as UserImpl, ax as _assert, aE as _castAuth, at as _fail, aI as _generateEventId, aH as _getClientVersion, ay as _getInstance, aB as _getRedirectResult, aC as _overrideRedirectResult, az as _persistenceKeyName, a2 as applyActionCode, t as beforeAuthStateChanged, b as browserLocalPersistence, k as browserPopupRedirectResolver, a as browserSessionPersistence, a3 as checkActionCode, a1 as confirmPasswordReset, G as connectAuthEmulator, a5 as createUserWithEmailAndPassword, B as debugErrorMap, z as deleteUser, aa as fetchSignInMethodsForEmail, al as getAdditionalUserInfo, n as getAuth, ai as getIdToken, aj as getIdTokenResult, an as getMultiFactorResolver, j as getRedirectResult, L as inMemoryPersistence, i as indexedDBLocalPersistence, E as initializeAuth, a8 as isSignInWithEmailLink, Z as linkWithCredential, l as linkWithPhoneNumber, d as linkWithPopup, g as linkWithRedirect, ao as multiFactor, v as onAuthStateChanged, q as onIdTokenChanged, ae as parseActionCodeURL, C as prodErrorMap, _ as reauthenticateWithCredential, r as reauthenticateWithPhoneNumber, e as reauthenticateWithPopup, h as reauthenticateWithRedirect, am as reload, ab as sendEmailVerification, a0 as sendPasswordResetEmail, a7 as sendSignInLinkToEmail, p as setPersistence, X as signInAnonymously, Y as signInWithCredential, $ as signInWithCustomToken, a6 as signInWithEmailAndPassword, a9 as signInWithEmailLink, s as signInWithPhoneNumber, c as signInWithPopup, f as signInWithRedirect, y as signOut, ak as unlink, x as updateCurrentUser, ag as updateEmail, ah as updatePassword, u as updatePhoneNumber, af as updateProfile, w as useDeviceLanguage, ac as verifyBeforeUpdateEmail, a4 as verifyPasswordResetCode } from './index-90ebcfae.js';\nimport { querystringDecode } from '@firebase/util';\nimport '@firebase/app';\nimport 'tslib';\nimport '@firebase/logger';\nimport '@firebase/component';\n\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction _cordovaWindow() {\r\n    return window;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * How long to wait after the app comes back into focus before concluding that\r\n * the user closed the sign in tab.\r\n */\r\nconst REDIRECT_TIMEOUT_MS = 2000;\r\n/**\r\n * Generates the URL for the OAuth handler.\r\n */\r\nasync function _generateHandlerUrl(auth, event, provider) {\r\n    var _a;\r\n    // Get the cordova plugins\r\n    const { BuildInfo } = _cordovaWindow();\r\n    debugAssert(event.sessionId, 'AuthEvent did not contain a session ID');\r\n    const sessionDigest = await computeSha256(event.sessionId);\r\n    const additionalParams = {};\r\n    if (_isIOS()) {\r\n        // iOS app identifier\r\n        additionalParams['ibi'] = BuildInfo.packageName;\r\n    }\r\n    else if (_isAndroid()) {\r\n        // Android app identifier\r\n        additionalParams['apn'] = BuildInfo.packageName;\r\n    }\r\n    else {\r\n        _fail(auth, \"operation-not-supported-in-this-environment\" /* OPERATION_NOT_SUPPORTED */);\r\n    }\r\n    // Add the display name if available\r\n    if (BuildInfo.displayName) {\r\n        additionalParams['appDisplayName'] = BuildInfo.displayName;\r\n    }\r\n    // Attached the hashed session ID\r\n    additionalParams['sessionId'] = sessionDigest;\r\n    return _getRedirectUrl(auth, provider, event.type, undefined, (_a = event.eventId) !== null && _a !== void 0 ? _a : undefined, additionalParams);\r\n}\r\n/**\r\n * Validates that this app is valid for this project configuration\r\n */\r\nasync function _validateOrigin(auth) {\r\n    const { BuildInfo } = _cordovaWindow();\r\n    const request = {};\r\n    if (_isIOS()) {\r\n        request.iosBundleId = BuildInfo.packageName;\r\n    }\r\n    else if (_isAndroid()) {\r\n        request.androidPackageName = BuildInfo.packageName;\r\n    }\r\n    else {\r\n        _fail(auth, \"operation-not-supported-in-this-environment\" /* OPERATION_NOT_SUPPORTED */);\r\n    }\r\n    // Will fail automatically if package name is not authorized\r\n    await _getProjectConfig(auth, request);\r\n}\r\nfunction _performRedirect(handlerUrl) {\r\n    // Get the cordova plugins\r\n    const { cordova } = _cordovaWindow();\r\n    return new Promise(resolve => {\r\n        cordova.plugins.browsertab.isAvailable(browserTabIsAvailable => {\r\n            let iabRef = null;\r\n            if (browserTabIsAvailable) {\r\n                cordova.plugins.browsertab.openUrl(handlerUrl);\r\n            }\r\n            else {\r\n                // TODO: Return the inappbrowser ref that's returned from the open call\r\n                iabRef = cordova.InAppBrowser.open(handlerUrl, _isIOS7Or8() ? '_blank' : '_system', 'location=yes');\r\n            }\r\n            resolve(iabRef);\r\n        });\r\n    });\r\n}\r\n/**\r\n * This function waits for app activity to be seen before resolving. It does\r\n * this by attaching listeners to various dom events. Once the app is determined\r\n * to be visible, this promise resolves. AFTER that resolution, the listeners\r\n * are detached and any browser tabs left open will be closed.\r\n */\r\nasync function _waitForAppResume(auth, eventListener, iabRef) {\r\n    // Get the cordova plugins\r\n    const { cordova } = _cordovaWindow();\r\n    let cleanup = () => { };\r\n    try {\r\n        await new Promise((resolve, reject) => {\r\n            let onCloseTimer = null;\r\n            // DEFINE ALL THE CALLBACKS =====\r\n            function authEventSeen() {\r\n                var _a;\r\n                // Auth event was detected. Resolve this promise and close the extra\r\n                // window if it's still open.\r\n                resolve();\r\n                const closeBrowserTab = (_a = cordova.plugins.browsertab) === null || _a === void 0 ? void 0 : _a.close;\r\n                if (typeof closeBrowserTab === 'function') {\r\n                    closeBrowserTab();\r\n                }\r\n                // Close inappbrowser emebedded webview in iOS7 and 8 case if still\r\n                // open.\r\n                if (typeof (iabRef === null || iabRef === void 0 ? void 0 : iabRef.close) === 'function') {\r\n                    iabRef.close();\r\n                }\r\n            }\r\n            function resumed() {\r\n                if (onCloseTimer) {\r\n                    // This code already ran; do not rerun.\r\n                    return;\r\n                }\r\n                onCloseTimer = window.setTimeout(() => {\r\n                    // Wait two seeconds after resume then reject.\r\n                    reject(_createError(auth, \"redirect-cancelled-by-user\" /* REDIRECT_CANCELLED_BY_USER */));\r\n                }, REDIRECT_TIMEOUT_MS);\r\n            }\r\n            function visibilityChanged() {\r\n                if ((document === null || document === void 0 ? void 0 : document.visibilityState) === 'visible') {\r\n                    resumed();\r\n                }\r\n            }\r\n            // ATTACH ALL THE LISTENERS =====\r\n            // Listen for the auth event\r\n            eventListener.addPassiveListener(authEventSeen);\r\n            // Listen for resume and visibility events\r\n            document.addEventListener('resume', resumed, false);\r\n            if (_isAndroid()) {\r\n                document.addEventListener('visibilitychange', visibilityChanged, false);\r\n            }\r\n            // SETUP THE CLEANUP FUNCTION =====\r\n            cleanup = () => {\r\n                eventListener.removePassiveListener(authEventSeen);\r\n                document.removeEventListener('resume', resumed, false);\r\n                document.removeEventListener('visibilitychange', visibilityChanged, false);\r\n                if (onCloseTimer) {\r\n                    window.clearTimeout(onCloseTimer);\r\n                }\r\n            };\r\n        });\r\n    }\r\n    finally {\r\n        cleanup();\r\n    }\r\n}\r\n/**\r\n * Checks the configuration of the Cordova environment. This has no side effect\r\n * if the configuration is correct; otherwise it throws an error with the\r\n * missing plugin.\r\n */\r\nfunction _checkCordovaConfiguration(auth) {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n    const win = _cordovaWindow();\r\n    // Check all dependencies installed.\r\n    // https://github.com/nordnet/cordova-universal-links-plugin\r\n    // Note that cordova-universal-links-plugin has been abandoned.\r\n    // A fork with latest fixes is available at:\r\n    // https://www.npmjs.com/package/cordova-universal-links-plugin-fix\r\n    _assert(typeof ((_a = win === null || win === void 0 ? void 0 : win.universalLinks) === null || _a === void 0 ? void 0 : _a.subscribe) === 'function', auth, \"invalid-cordova-configuration\" /* INVALID_CORDOVA_CONFIGURATION */, {\r\n        missingPlugin: 'cordova-universal-links-plugin-fix'\r\n    });\r\n    // https://www.npmjs.com/package/cordova-plugin-buildinfo\r\n    _assert(typeof ((_b = win === null || win === void 0 ? void 0 : win.BuildInfo) === null || _b === void 0 ? void 0 : _b.packageName) !== 'undefined', auth, \"invalid-cordova-configuration\" /* INVALID_CORDOVA_CONFIGURATION */, {\r\n        missingPlugin: 'cordova-plugin-buildInfo'\r\n    });\r\n    // https://github.com/google/cordova-plugin-browsertab\r\n    _assert(typeof ((_e = (_d = (_c = win === null || win === void 0 ? void 0 : win.cordova) === null || _c === void 0 ? void 0 : _c.plugins) === null || _d === void 0 ? void 0 : _d.browsertab) === null || _e === void 0 ? void 0 : _e.openUrl) === 'function', auth, \"invalid-cordova-configuration\" /* INVALID_CORDOVA_CONFIGURATION */, {\r\n        missingPlugin: 'cordova-plugin-browsertab'\r\n    });\r\n    _assert(typeof ((_h = (_g = (_f = win === null || win === void 0 ? void 0 : win.cordova) === null || _f === void 0 ? void 0 : _f.plugins) === null || _g === void 0 ? void 0 : _g.browsertab) === null || _h === void 0 ? void 0 : _h.isAvailable) === 'function', auth, \"invalid-cordova-configuration\" /* INVALID_CORDOVA_CONFIGURATION */, {\r\n        missingPlugin: 'cordova-plugin-browsertab'\r\n    });\r\n    // https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-inappbrowser/\r\n    _assert(typeof ((_k = (_j = win === null || win === void 0 ? void 0 : win.cordova) === null || _j === void 0 ? void 0 : _j.InAppBrowser) === null || _k === void 0 ? void 0 : _k.open) === 'function', auth, \"invalid-cordova-configuration\" /* INVALID_CORDOVA_CONFIGURATION */, {\r\n        missingPlugin: 'cordova-plugin-inappbrowser'\r\n    });\r\n}\r\n/**\r\n * Computes the SHA-256 of a session ID. The SubtleCrypto interface is only\r\n * available in \"secure\" contexts, which covers Cordova (which is served on a file\r\n * protocol).\r\n */\r\nasync function computeSha256(sessionId) {\r\n    const bytes = stringToArrayBuffer(sessionId);\r\n    // TODO: For IE11 crypto has a different name and this operation comes back\r\n    //       as an object, not a promise. This is the old proposed standard that\r\n    //       is used by IE11:\r\n    // https://www.w3.org/TR/2013/WD-WebCryptoAPI-20130108/#cryptooperation-interface\r\n    const buf = await crypto.subtle.digest('SHA-256', bytes);\r\n    const arr = Array.from(new Uint8Array(buf));\r\n    return arr.map(num => num.toString(16).padStart(2, '0')).join('');\r\n}\r\nfunction stringToArrayBuffer(str) {\r\n    // This function is only meant to deal with an ASCII charset and makes\r\n    // certain simplifying assumptions.\r\n    debugAssert(/[0-9a-zA-Z]+/.test(str), 'Can only convert alpha-numeric strings');\r\n    if (typeof TextEncoder !== 'undefined') {\r\n        return new TextEncoder().encode(str);\r\n    }\r\n    const buff = new ArrayBuffer(str.length);\r\n    const view = new Uint8Array(buff);\r\n    for (let i = 0; i < str.length; i++) {\r\n        view[i] = str.charCodeAt(i);\r\n    }\r\n    return view;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst SESSION_ID_LENGTH = 20;\r\n/** Custom AuthEventManager that adds passive listeners to events */\r\nclass CordovaAuthEventManager extends AuthEventManager {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.passiveListeners = new Set();\r\n        this.initPromise = new Promise(resolve => {\r\n            this.resolveInialized = resolve;\r\n        });\r\n    }\r\n    addPassiveListener(cb) {\r\n        this.passiveListeners.add(cb);\r\n    }\r\n    removePassiveListener(cb) {\r\n        this.passiveListeners.delete(cb);\r\n    }\r\n    // In a Cordova environment, this manager can live through multiple redirect\r\n    // operations\r\n    resetRedirect() {\r\n        this.queuedRedirectEvent = null;\r\n        this.hasHandledPotentialRedirect = false;\r\n    }\r\n    /** Override the onEvent method */\r\n    onEvent(event) {\r\n        this.resolveInialized();\r\n        this.passiveListeners.forEach(cb => cb(event));\r\n        return super.onEvent(event);\r\n    }\r\n    async initialized() {\r\n        await this.initPromise;\r\n    }\r\n}\r\n/**\r\n * Generates a (partial) {@link AuthEvent}.\r\n */\r\nfunction _generateNewEvent(auth, type, eventId = null) {\r\n    return {\r\n        type,\r\n        eventId,\r\n        urlResponse: null,\r\n        sessionId: generateSessionId(),\r\n        postBody: null,\r\n        tenantId: auth.tenantId,\r\n        error: _createError(auth, \"no-auth-event\" /* NO_AUTH_EVENT */)\r\n    };\r\n}\r\nfunction _savePartialEvent(auth, event) {\r\n    return storage()._set(persistenceKey(auth), event);\r\n}\r\nasync function _getAndRemoveEvent(auth) {\r\n    const event = (await storage()._get(persistenceKey(auth)));\r\n    if (event) {\r\n        await storage()._remove(persistenceKey(auth));\r\n    }\r\n    return event;\r\n}\r\nfunction _eventFromPartialAndUrl(partialEvent, url) {\r\n    var _a, _b;\r\n    // Parse the deep link within the dynamic link URL.\r\n    const callbackUrl = _getDeepLinkFromCallback(url);\r\n    // Confirm it is actually a callback URL.\r\n    // Currently the universal link will be of this format:\r\n    // https://<AUTH_DOMAIN>/__/auth/callback<OAUTH_RESPONSE>\r\n    // This is a fake URL but is not intended to take the user anywhere\r\n    // and just redirect to the app.\r\n    if (callbackUrl.includes('/__/auth/callback')) {\r\n        // Check if there is an error in the URL.\r\n        // This mechanism is also used to pass errors back to the app:\r\n        // https://<AUTH_DOMAIN>/__/auth/callback?firebaseError=<STRINGIFIED_ERROR>\r\n        const params = searchParamsOrEmpty(callbackUrl);\r\n        // Get the error object corresponding to the stringified error if found.\r\n        const errorObject = params['firebaseError']\r\n            ? parseJsonOrNull(decodeURIComponent(params['firebaseError']))\r\n            : null;\r\n        const code = (_b = (_a = errorObject === null || errorObject === void 0 ? void 0 : errorObject['code']) === null || _a === void 0 ? void 0 : _a.split('auth/')) === null || _b === void 0 ? void 0 : _b[1];\r\n        const error = code ? _createError(code) : null;\r\n        if (error) {\r\n            return {\r\n                type: partialEvent.type,\r\n                eventId: partialEvent.eventId,\r\n                tenantId: partialEvent.tenantId,\r\n                error,\r\n                urlResponse: null,\r\n                sessionId: null,\r\n                postBody: null\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                type: partialEvent.type,\r\n                eventId: partialEvent.eventId,\r\n                tenantId: partialEvent.tenantId,\r\n                sessionId: partialEvent.sessionId,\r\n                urlResponse: callbackUrl,\r\n                postBody: null\r\n            };\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction generateSessionId() {\r\n    const chars = [];\r\n    const allowedChars = '1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n    for (let i = 0; i < SESSION_ID_LENGTH; i++) {\r\n        const idx = Math.floor(Math.random() * allowedChars.length);\r\n        chars.push(allowedChars.charAt(idx));\r\n    }\r\n    return chars.join('');\r\n}\r\nfunction storage() {\r\n    return _getInstance(browserLocalPersistence);\r\n}\r\nfunction persistenceKey(auth) {\r\n    return _persistenceKeyName(\"authEvent\" /* AUTH_EVENT */, auth.config.apiKey, auth.name);\r\n}\r\nfunction parseJsonOrNull(json) {\r\n    try {\r\n        return JSON.parse(json);\r\n    }\r\n    catch (e) {\r\n        return null;\r\n    }\r\n}\r\n// Exported for testing\r\nfunction _getDeepLinkFromCallback(url) {\r\n    const params = searchParamsOrEmpty(url);\r\n    const link = params['link'] ? decodeURIComponent(params['link']) : undefined;\r\n    // Double link case (automatic redirect)\r\n    const doubleDeepLink = searchParamsOrEmpty(link)['link'];\r\n    // iOS custom scheme links.\r\n    const iOSDeepLink = params['deep_link_id']\r\n        ? decodeURIComponent(params['deep_link_id'])\r\n        : undefined;\r\n    const iOSDoubleDeepLink = searchParamsOrEmpty(iOSDeepLink)['link'];\r\n    return iOSDoubleDeepLink || iOSDeepLink || doubleDeepLink || link || url;\r\n}\r\n/**\r\n * Optimistically tries to get search params from a string, or else returns an\r\n * empty search params object.\r\n */\r\nfunction searchParamsOrEmpty(url) {\r\n    if (!(url === null || url === void 0 ? void 0 : url.includes('?'))) {\r\n        return {};\r\n    }\r\n    const [_, ...rest] = url.split('?');\r\n    return querystringDecode(rest.join('?'));\r\n}\n\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * How long to wait for the initial auth event before concluding no\r\n * redirect pending\r\n */\r\nconst INITIAL_EVENT_TIMEOUT_MS = 500;\r\nclass CordovaPopupRedirectResolver {\r\n    constructor() {\r\n        this._redirectPersistence = browserSessionPersistence;\r\n        this._shouldInitProactively = true; // This is lightweight for Cordova\r\n        this.eventManagers = new Map();\r\n        this.originValidationPromises = {};\r\n        this._completeRedirectFn = _getRedirectResult;\r\n        this._overrideRedirectResult = _overrideRedirectResult;\r\n    }\r\n    async _initialize(auth) {\r\n        const key = auth._key();\r\n        let manager = this.eventManagers.get(key);\r\n        if (!manager) {\r\n            manager = new CordovaAuthEventManager(auth);\r\n            this.eventManagers.set(key, manager);\r\n            this.attachCallbackListeners(auth, manager);\r\n        }\r\n        return manager;\r\n    }\r\n    _openPopup(auth) {\r\n        _fail(auth, \"operation-not-supported-in-this-environment\" /* OPERATION_NOT_SUPPORTED */);\r\n    }\r\n    async _openRedirect(auth, provider, authType, eventId) {\r\n        _checkCordovaConfiguration(auth);\r\n        const manager = await this._initialize(auth);\r\n        await manager.initialized();\r\n        // Reset the persisted redirect states. This does not matter on Web where\r\n        // the redirect always blows away application state entirely. On Cordova,\r\n        // the app maintains control flow through the redirect.\r\n        manager.resetRedirect();\r\n        _clearRedirectOutcomes();\r\n        await this._originValidation(auth);\r\n        const event = _generateNewEvent(auth, authType, eventId);\r\n        await _savePartialEvent(auth, event);\r\n        const url = await _generateHandlerUrl(auth, event, provider);\r\n        const iabRef = await _performRedirect(url);\r\n        return _waitForAppResume(auth, manager, iabRef);\r\n    }\r\n    _isIframeWebStorageSupported(_auth, _cb) {\r\n        throw new Error('Method not implemented.');\r\n    }\r\n    _originValidation(auth) {\r\n        const key = auth._key();\r\n        if (!this.originValidationPromises[key]) {\r\n            this.originValidationPromises[key] = _validateOrigin(auth);\r\n        }\r\n        return this.originValidationPromises[key];\r\n    }\r\n    attachCallbackListeners(auth, manager) {\r\n        // Get the global plugins\r\n        const { universalLinks, handleOpenURL, BuildInfo } = _cordovaWindow();\r\n        const noEventTimeout = setTimeout(async () => {\r\n            // We didn't see that initial event. Clear any pending object and\r\n            // dispatch no event\r\n            await _getAndRemoveEvent(auth);\r\n            manager.onEvent(generateNoEvent());\r\n        }, INITIAL_EVENT_TIMEOUT_MS);\r\n        const universalLinksCb = async (eventData) => {\r\n            // We have an event so we can clear the no event timeout\r\n            clearTimeout(noEventTimeout);\r\n            const partialEvent = await _getAndRemoveEvent(auth);\r\n            let finalEvent = null;\r\n            if (partialEvent && (eventData === null || eventData === void 0 ? void 0 : eventData['url'])) {\r\n                finalEvent = _eventFromPartialAndUrl(partialEvent, eventData['url']);\r\n            }\r\n            // If finalEvent is never filled, trigger with no event\r\n            manager.onEvent(finalEvent || generateNoEvent());\r\n        };\r\n        // Universal links subscriber doesn't exist for iOS, so we need to check\r\n        if (typeof universalLinks !== 'undefined' &&\r\n            typeof universalLinks.subscribe === 'function') {\r\n            universalLinks.subscribe(null, universalLinksCb);\r\n        }\r\n        // iOS 7 or 8 custom URL schemes.\r\n        // This is also the current default behavior for iOS 9+.\r\n        // For this to work, cordova-plugin-customurlscheme needs to be installed.\r\n        // https://github.com/EddyVerbruggen/Custom-URL-scheme\r\n        // Do not overwrite the existing developer's URL handler.\r\n        const existingHandleOpenURL = handleOpenURL;\r\n        const packagePrefix = `${BuildInfo.packageName.toLowerCase()}://`;\r\n        _cordovaWindow().handleOpenURL = async (url) => {\r\n            if (url.toLowerCase().startsWith(packagePrefix)) {\r\n                // We want this intentionally to float\r\n                // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n                universalLinksCb({ url });\r\n            }\r\n            // Call the developer's handler if it is present.\r\n            if (typeof existingHandleOpenURL === 'function') {\r\n                try {\r\n                    existingHandleOpenURL(url);\r\n                }\r\n                catch (e) {\r\n                    // This is a developer error. Don't stop the flow of the SDK.\r\n                    console.error(e);\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n/**\r\n * An implementation of {@link PopupRedirectResolver} suitable for Cordova\r\n * based applications.\r\n *\r\n * @public\r\n */\r\nconst cordovaPopupRedirectResolver = CordovaPopupRedirectResolver;\r\nfunction generateNoEvent() {\r\n    return {\r\n        type: \"unknown\" /* UNKNOWN */,\r\n        eventId: null,\r\n        sessionId: null,\r\n        urlResponse: null,\r\n        postBody: null,\r\n        tenantId: null,\r\n        error: _createError(\"no-auth-event\" /* NO_AUTH_EVENT */)\r\n    };\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n// This function should only be called by frameworks (e.g. FirebaseUI-web) to log their usage.\r\n// It is not intended for direct use by developer apps. NO jsdoc here to intentionally leave it out\r\n// of autogenerated documentation pages to reduce accidental misuse.\r\nfunction addFrameworkForLogging(auth, framework) {\r\n    _castAuth(auth)._logFramework(framework);\r\n}\n\nexport { addFrameworkForLogging, cordovaPopupRedirectResolver };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}